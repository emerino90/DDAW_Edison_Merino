{% extends "base.html" %}
{% block content %}
<div class="card">
  <div class="card__header">
    <h2>{{ titulo }}</h2>
    <a class="btn btn-primary" href="{{ url_for('mysql_productos_crear') }}">Crear</a>
  </div>

  <div class="table-wrapper">
    <table class="table">
      <thead>
        <tr><th>ID</th><th>Nombre</th><th>Precio</th><th>Stock</th><th>Acciones</th></tr>
      </thead>
      <tbody>
        {% if productos %}
          {% for p in productos %}
          <tr>
            <td>{{ p.id_producto }}</td>
            <td class="text-strong">{{ p.nombre }}</td>
            <td>${{ '%.2f'|format(p.precio) }}</td>
            <td>{{ p.stock }}</td>
            <td class="actions">
              <a class="btn btn-small" href="{{ url_for('mysql_productos_editar', pid=p.id_producto) }}">Editar</a>
              <form method="post" action="{{ url_for('mysql_productos_eliminar', pid=p.id_producto) }}" onsubmit="return confirm('Â¿Eliminar {{p.nombre}}?')">
                <button class="btn btn-small btn-danger" type="submit">Eliminar</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        {% else %}
          <tr><td colspan="5">No hay productos.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
